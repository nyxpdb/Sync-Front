import{T,S as $,r as g,N as U,X as ue,Y as I,Z as me,_ as M,P as F,O as j,j as t,U as C,Q as L,V as X,$ as xe,x as Y,a0 as ge,a1 as q,i as he,g as be}from"./index-T3R_rq7t.js";import{a as O,M as ve,B as fe,F as ye,I as we,S as Ce}from"./Select-Du4xeYpE.js";import{M as je}from"./PageHeader-FNeb9-6J.js";import{C as Se}from"./Chip-C3XYgWae.js";import{T as De}from"./TextField-BudsMaMM.js";function ke(e){return $("MuiDialog",e)}const E=T("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Ne=g.createContext({}),Pe=j(fe,{name:"MuiDialog",slot:"Backdrop",overrides:(e,a)=>a.backdrop})({zIndex:-1}),Me=e=>{const{classes:a,scroll:r,maxWidth:n,fullWidth:l,fullScreen:c}=e,u={root:["root"],container:["container",`scroll${C(r)}`],paper:["paper",`paperScroll${C(r)}`,`paperWidth${C(String(n))}`,l&&"paperFullWidth",c&&"paperFullScreen"]};return L(u,ke,a)},We=j(ve,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),Fe=j("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,a)=>{const{ownerState:r}=e;return[a.container,a[`scroll${C(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Te=j(I,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,a)=>{const{ownerState:r}=e;return[a.paper,a[`scrollPaper${C(r.scroll)}`],a[`paperWidth${C(String(r.maxWidth))}`],r.fullWidth&&a.paperFullWidth,r.fullScreen&&a.paperFullScreen]}})(X(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:a})=>!a.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${E.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(a=>a!=="xs").map(a=>({props:{maxWidth:a},style:{maxWidth:`${e.breakpoints.values[a]}${e.breakpoints.unit}`,[`&.${E.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[a]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:a})=>a.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:a})=>a.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${E.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),$e=g.forwardRef(function(a,r){const n=U({props:a,name:"MuiDialog"}),l=ue(),c={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{"aria-describedby":u,"aria-labelledby":p,"aria-modal":m=!0,BackdropComponent:b,BackdropProps:d,children:h,className:x,disableEscapeKeyDown:i=!1,fullScreen:v=!1,fullWidth:f=!1,maxWidth:S="sm",onClick:W,onClose:D,open:k,PaperComponent:s=I,PaperProps:o={},scroll:y="paper",slots:z={},slotProps:H={},TransitionComponent:K=O,transitionDuration:V=c,TransitionProps:Q,...Z}=n,w={...n,disableEscapeKeyDown:i,fullScreen:v,fullWidth:f,maxWidth:S,scroll:y},R=Me(w),A=g.useRef(),_=P=>{A.current=P.target===P.currentTarget},G=P=>{W&&W(P),A.current&&(A.current=null,D&&D(P,"backdropClick"))},B=me(p),J=g.useMemo(()=>({titleId:B}),[B]),ee={transition:K,...z},ae={transition:Q,paper:o,backdrop:d,...H},N={slots:ee,slotProps:ae},[te,re]=M("root",{elementType:We,shouldForwardComponentProp:!0,externalForwardedProps:N,ownerState:w,className:F(R.root,x),ref:r}),[se,oe]=M("backdrop",{elementType:Pe,shouldForwardComponentProp:!0,externalForwardedProps:N,ownerState:w}),[ne,ie]=M("paper",{elementType:Te,shouldForwardComponentProp:!0,externalForwardedProps:N,ownerState:w,className:F(R.paper,o.className)}),[le,ce]=M("container",{elementType:Fe,externalForwardedProps:N,ownerState:w,className:R.container}),[pe,de]=M("transition",{elementType:O,externalForwardedProps:N,ownerState:w,additionalProps:{appear:!0,in:k,timeout:V,role:"presentation"}});return t.jsx(te,{closeAfterTransition:!0,slots:{backdrop:se},slotProps:{backdrop:{transitionDuration:V,as:b,...oe}},disableEscapeKeyDown:i,onClose:D,open:k,onClick:G,...re,...Z,children:t.jsx(pe,{...de,children:t.jsx(le,{onMouseDown:_,...ce,children:t.jsx(ne,{as:s,elevation:24,role:"dialog","aria-describedby":u,"aria-labelledby":B,"aria-modal":m,...ie,children:t.jsx(Ne.Provider,{value:J,children:h})})})})})});function Re(e){return $("MuiDialogActions",e)}T("MuiDialogActions",["root","spacing"]);const Ae=e=>{const{classes:a,disableSpacing:r}=e;return L({root:["root",!r&&"spacing"]},Re,a)},Be=j("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:r}=e;return[a.root,!r.disableSpacing&&a.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Ee=g.forwardRef(function(a,r){const n=U({props:a,name:"MuiDialogActions"}),{className:l,disableSpacing:c=!1,...u}=n,p={...n,disableSpacing:c},m=Ae(p);return t.jsx(Be,{className:F(m.root,l),ownerState:p,ref:r,...u})});function Ue(e){return $("MuiDialogContent",e)}T("MuiDialogContent",["root","dividers"]);function Qe(e){return $("MuiDialogTitle",e)}const Ie=T("MuiDialogTitle",["root"]),Le=e=>{const{classes:a,dividers:r}=e;return L({root:["root",r&&"dividers"]},Ue,a)},Ve=j("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:r}=e;return[a.root,r.dividers&&a.dividers]}})(X(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:a})=>a.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:a})=>!a.dividers,style:{[`.${Ie.root} + &`]:{paddingTop:0}}}]}))),Ye=g.forwardRef(function(a,r){const n=U({props:a,name:"MuiDialogContent"}),{className:l,dividers:c=!1,...u}=n,p={...n,dividers:c},m=Le(p);return t.jsx(Ve,{className:F(m.root,l),ownerState:p,ref:r,...u})}),qe=({type:e,label:a,value:r,onChange:n,placeholder:l,options:c=[],required:u=!1,disabled:p=!1,error:m,helperText:b,size:d="small",fullWidth:h=!0,className:x=""})=>e==="select"||e==="multiselect"?t.jsxs(ye,{size:d,fullWidth:h,required:u,disabled:p,error:!!m,className:x,children:[t.jsx(we,{children:a}),t.jsx(Ce,{multiple:e==="multiselect",value:e==="multiselect"?Array.isArray(r)?r:[]:r,onChange:i=>n(i.target.value),label:a,renderValue:e==="multiselect"?i=>t.jsx(xe,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:i.map(v=>{const f=c.find(S=>S.value===v);return t.jsx(Se,{label:f?f.label:"",size:"small"},v)})}):void 0,children:c.map(i=>t.jsx(je,{value:i.value,children:i.label},i.value))})]}):t.jsx(De,{type:e,label:a,value:r,onChange:i=>n(i.target.value),placeholder:l,required:u,disabled:p,error:!!m,helperText:m||b,size:d,fullWidth:h,className:x}),Ze=({open:e,onClose:a,mode:r,title:n,fields:l,initialData:c={},onSubmit:u,loading:p=!1,maxWidth:m="sm",entityType:b="employee"})=>{const[d,h]=g.useState({}),[x,i]=g.useState({});g.useEffect(()=>{if(e){const s={};l.forEach(o=>{s[o.name]=c[o.name]||o.defaultValue||""}),h(s),i({})}},[e,c,l]);const v=(s,o)=>{h(y=>({...y,[s]:o})),x[s]&&i(y=>({...y,[s]:""}))},f=()=>{const s={};return l.forEach(o=>{o.required&&(!d[o.name]||d[o.name]==="")&&(s[o.name]=`${o.label} é obrigatório`),o.type==="email"&&d[o.name]&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d[o.name])||(s[o.name]="Email inválido")),o.type==="number"&&d[o.name]&&isNaN(Number(d[o.name]))&&(s[o.name]="Valor deve ser numérico")}),i(s),Object.keys(s).length===0},S=()=>{f()&&u(d)},W=()=>{switch(b){case"employee":return t.jsx(q,{className:"text-2xl"});case"machine":return t.jsx(be,{className:"text-2xl"});case"department":return t.jsx(he,{className:"text-2xl"});default:return t.jsx(q,{className:"text-2xl"})}},D=()=>{switch(r){case"create":case"add":return"Criar";case"edit":return"Salvar";default:return"Salvar"}},k=()=>{switch(b){case"employee":return"Funcionário";case"machine":return"Máquina";case"department":return"Departamento";default:return"Item"}};return t.jsxs($e,{open:e,onClose:a,maxWidth:m,fullWidth:!0,PaperProps:{sx:{borderRadius:"16px",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",overflow:"hidden"}},children:[t.jsx("div",{className:"relative",children:t.jsx("div",{className:"bg-gradient-to-br from-[var(--primary)] via-[var(--primary-dark)] to-[#e55a1a] p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:W()}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:n}),t.jsx("p",{className:"text-white/80 text-sm mt-1",children:r==="create"||r==="add"?`Adicionar novo ${k().toLowerCase()}`:`Editar ${k().toLowerCase()} existente`})]})]}),t.jsx("button",{onClick:a,className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors",children:t.jsx(Y,{})})]})})}),t.jsx(Ye,{className:"p-8 pt-8",children:t.jsx(I,{elevation:0,className:"bg-gray-50 rounded-xl p-6",children:t.jsx("div",{className:"space-y-6",children:l.map(s=>t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"mb-2",children:t.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[s.label,s.required&&s.type!=="select"&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})}),t.jsx(qe,{type:s.type,label:"",value:d[s.name]||"",onChange:o=>v(s.name,o),required:s.required,options:s.options,placeholder:s.placeholder,error:x[s.name]}),x[s.name]&&t.jsx("p",{className:"text-red-500 text-xs mt-1",children:x[s.name]})]},s.name))})})}),t.jsx(Ee,{className:"p-6 bg-gray-50",children:t.jsxs("div",{className:"flex gap-3 w-full justify-between",children:[t.jsxs("button",{onClick:a,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-100 transition-colors flex items-center gap-2",children:[t.jsx(Y,{}),"Cancelar"]}),t.jsxs("button",{onClick:S,disabled:p,className:"px-8 py-3 bg-gradient-to-r from-[var(--primary)] to-[var(--primary-dark)] text-white rounded-lg font-medium hover:shadow-lg transform hover:-translate-y-0.5 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[p?t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):t.jsx(ge,{}),D()]})]})})]})};export{Ze as C,$e as D,Ye as a,Ee as b,Ne as c,Qe as g};
