import{r as i,u as w,j as e}from"./index-T3R_rq7t.js";import{s}from"./Login.module-DFuOy_S1.js";const f=()=>e.jsx("div",{className:"flex justify-center items-center mt-4",children:e.jsxs("svg",{className:"animate-spin h-8 w-8 text-[var(--primary)]",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),k=()=>{const[c,p]=i.useState(1),[m,h]=i.useState(""),[l,v]=i.useState(""),[u,g]=i.useState(""),[t,o]=i.useState(""),[n,x]=i.useState(""),[a,d]=i.useState(!1),b=w(),y=r=>{r.preventDefault(),o(""),x(""),d(!0),setTimeout(()=>{if(d(!1),!m.match(/^[^@\s]+@[^@\s]+\.[^@\s]+$/)){o("E-mail inválido.");return}p(2)},1e3)},j=r=>{if(r.preventDefault(),o(""),x(""),l.length<6){o("A senha deve ter pelo menos 6 caracteres.");return}if(l!==u){o("As senhas não coincidem.");return}d(!0),setTimeout(()=>{d(!1),x("Senha redefinida com sucesso!"),setTimeout(()=>b("/login"),1800)},1200)};return e.jsx("div",{className:s.container,children:e.jsx("main",{className:"flex-1 w-full flex items-center justify-center bg-gradient-to-br from-[var(--bg)] via-white to-[var(--accent)] fade-in",children:e.jsxs("div",{className:s.formBox,children:[e.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[e.jsx("div",{className:s.logo,children:e.jsxs("svg",{width:"36",height:"36",fill:"none",viewBox:"0 0 48 48",children:[e.jsx("circle",{cx:"24",cy:"24",r:"22",stroke:"white",strokeWidth:"4"}),e.jsx("path",{d:"M16 24l6 6 10-10",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h1",{className:"text-2xl font-bold text-[var(--primary)] mb-2 fade-in-up",children:"Recuperar Senha"}),e.jsx("p",{className:"text-[var(--muted)] text-center fade-in-up",style:{animationDelay:"120ms"},children:c===1?"Informe seu e-mail para redefinir a senha.":"Escolha uma nova senha para sua conta."})]}),c===1&&e.jsxs("form",{className:"w-full flex flex-col gap-6 mt-2 fade-in-up",style:{animationDelay:"200ms"},onSubmit:y,children:[e.jsxs("label",{className:"text-[var(--primary)] font-semibold mb-1",children:["E-mail ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",placeholder:"Digite seu e-mail",value:m,onChange:r=>h(r.target.value),className:`w-full px-4 py-3 rounded-lg border bg-[var(--bg)] text-[var(--text)] focus:ring-2 outline-none transition-all duration-200 ${t?s["animate-shake"]+" border-red-500 focus:border-red-500 focus:ring-red-200":n&&m?s["animate-success"]+" border-green-500 focus:border-green-500 focus:ring-green-200":"border-[var(--accent)] focus:border-[var(--primary)] focus:ring-[var(--primary)]"}`,autoComplete:"email",disabled:a,required:!0}),e.jsx("button",{type:"submit",className:"w-full py-3 rounded-lg bg-[var(--primary)] hover:bg-[var(--primary-dark)] text-white font-bold text-lg shadow transition-colors duration-300 fade-in-up",style:{animationDelay:"300ms"},disabled:a,children:a?"Enviando...":"Enviar link"}),t&&e.jsx("div",{className:"text-red-600 text-center mt-2 animate-fadeInDown",children:t}),n&&e.jsx("div",{className:"text-green-600 text-center mt-2 animate-fadeInUp",children:n}),a&&e.jsx(f,{})]}),c===2&&e.jsxs("form",{className:"w-full flex flex-col gap-6 mt-2 fade-in-up",style:{animationDelay:"200ms"},onSubmit:j,children:[e.jsxs("label",{className:"text-[var(--primary)] font-semibold mb-1",children:["Nova Senha ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",placeholder:"Digite a nova senha",value:l,onChange:r=>v(r.target.value),className:`w-full px-4 py-3 rounded-lg border bg-[var(--bg)] text-[var(--text)] focus:ring-2 outline-none transition-all duration-200 ${t?s["animate-shake"]+" border-red-500 focus:border-red-500 focus:ring-red-200":n&&l?s["animate-success"]+" border-green-500 focus:border-green-500 focus:ring-green-200":"border-[var(--accent)] focus:border-[var(--primary)] focus:ring-[var(--primary)]"}`,autoComplete:"new-password",disabled:a,required:!0}),e.jsxs("label",{className:"text-[var(--primary)] font-semibold mb-1",children:["Confirmar Nova Senha ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",placeholder:"Confirme a nova senha",value:u,onChange:r=>g(r.target.value),className:`w-full px-4 py-3 rounded-lg border bg-[var(--bg)] text-[var(--text)] focus:ring-2 outline-none transition-all duration-200 ${t?s["animate-shake"]+" border-red-500 focus:border-red-500 focus:ring-red-200":n&&u?s["animate-success"]+" border-green-500 focus:border-green-500 focus:ring-green-200":"border-[var(--accent)] focus:border-[var(--primary)] focus:ring-[var(--primary)]"}`,autoComplete:"new-password",disabled:a,required:!0}),e.jsx("button",{type:"submit",className:"w-full py-3 rounded-lg bg-[var(--primary)] hover:bg-[var(--primary-dark)] text-white font-bold text-lg shadow transition-colors duration-300 fade-in-up",style:{animationDelay:"300ms"},disabled:a,children:a?"Redefinindo...":"Redefinir Senha"}),t&&e.jsx("div",{className:"text-red-600 text-center mt-2 animate-fadeInDown",children:t}),n&&e.jsx("div",{className:"text-green-600 text-center mt-2 animate-fadeInUp",children:n}),a&&e.jsx(f,{})]}),e.jsx("div",{className:"mt-6 text-center fade-in-up",style:{animationDelay:"400ms"},children:e.jsx("a",{href:"/login",className:"text-[var(--primary)] hover:underline transition-all duration-200",children:"Voltar para o login"})})]})})})};export{k as default};
