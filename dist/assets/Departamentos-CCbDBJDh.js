import{i as D,H as U,I as H,h as F,J as $,b as J,d as S,r,j as e,C as l,a as i,p as Q,m as f,e as b,k as N,l as K,D as V,K as X,y as Y,M as Z,f as _,E as ee,G as se}from"./index-T3R_rq7t.js";import{A as ae,B as c}from"./Header-DQWyaUo3.js";import{P as te,M as x}from"./PageHeader-FNeb9-6J.js";import{D as re,a as le,b as ie,C as y}from"./CUDModal-CPdltBTE.js";import{T as oe}from"./TextField-BudsMaMM.js";import{F as ne,I as ce,S as de}from"./Select-Du4xeYpE.js";import{C as w}from"./Chip-C3XYgWae.js";import{D as me}from"./DialogTitle-c-vEgWvA.js";import"./Typography-mA1RaIho.js";const xe=[{name:"name",label:"Nome do Departamento",type:"text",required:!0,placeholder:"Digite o nome do departamento"},{name:"description",label:"Descrição",type:"textarea",required:!0,placeholder:"Digite a descrição do departamento"},{name:"location",label:"Localização",type:"text",required:!0,placeholder:"Digite a localização"},{name:"employees",label:"Número de Funcionários",type:"number",required:!0,placeholder:"Digite o número de funcionários"},{name:"budget",label:"Orçamento (R$)",type:"number",required:!0,placeholder:"Digite o orçamento"},{name:"status",label:"Status",type:"select",required:!0,options:[{value:"active",label:"Ativo"},{value:"inactive",label:"Inativo"},{value:"maintenance",label:"Em Manutenção"}]}],pe=[{name:"name",label:"Nome do Setor",type:"text",required:!0,placeholder:"Digite o nome do setor"},{name:"employees",label:"Número de Funcionários",type:"number",required:!0,placeholder:"Digite o número de funcionários"},{name:"efficiency",label:"Eficiência (%)",type:"number",required:!0,placeholder:"Digite a eficiência em %"},{name:"production",label:"Produção (un/h)",type:"number",required:!0,placeholder:"Digite a produção por hora"}],o=[{id:1,name:"Produção",description:"Responsável pela fabricação e montagem dos produtos principais da empresa, garantindo qualidade e eficiência em todos os processos produtivos.",location:"Prédio A - 1º Andar",employees:45,budget:25e4,status:"active",createdAt:"2023-01-15",sectors:[{id:1,name:"Corte e Preparação",employees:12,efficiency:94,production:320},{id:2,name:"Montagem",employees:18,efficiency:89,production:210},{id:3,name:"Acabamento",employees:15,efficiency:91,production:180}]},{id:2,name:"Qualidade",description:"Controla e monitora a qualidade dos produtos em todas as etapas do processo, implementando melhorias contínuas e garantindo conformidade com padrões.",location:"Prédio B - 2º Andar",employees:12,budget:8e4,status:"active",createdAt:"2023-02-20",sectors:[{id:4,name:"Controle de Qualidade",employees:8,efficiency:96,production:150},{id:5,name:"Inspeção Final",employees:4,efficiency:98,production:120}]},{id:3,name:"Logística",description:"Gerencia o fluxo de materiais, armazenamento e distribuição, otimizando processos de supply chain e garantindo entrega eficiente.",location:"Galpão C",employees:28,budget:12e4,status:"active",createdAt:"2023-03-10",sectors:[{id:6,name:"Recebimento",employees:8,efficiency:92,production:200},{id:7,name:"Armazenamento",employees:6,efficiency:95,production:180},{id:8,name:"Expedição",employees:14,efficiency:88,production:250}]},{id:4,name:"Manutenção",description:"Responsável pela manutenção preventiva e corretiva de equipamentos, garantindo disponibilidade e eficiência operacional.",location:"Prédio A - Subsolo",employees:15,budget:95e3,status:"maintenance",createdAt:"2023-01-30",sectors:[{id:9,name:"Manutenção Preventiva",employees:8,efficiency:85,production:90},{id:10,name:"Manutenção Corretiva",employees:7,efficiency:82,production:75}]},{id:5,name:"P&D",description:"Desenvolve novos produtos e processos, realizando pesquisas e inovações tecnológicas para manter a competitividade da empresa.",location:"Prédio D - 3º Andar",employees:8,budget:18e4,status:"active",createdAt:"2023-04-05",sectors:[{id:11,name:"Pesquisa",employees:4,efficiency:78,production:60},{id:12,name:"Desenvolvimento",employees:4,efficiency:81,production:85}]},{id:6,name:"Segurança",description:"Garante a segurança dos colaboradores e instalações, implementando políticas e procedimentos de segurança do trabalho.",location:"Prédio Central",employees:6,budget:45e3,status:"active",createdAt:"2023-02-15",sectors:[{id:13,name:"Segurança do Trabalho",employees:4,efficiency:95,production:100},{id:14,name:"Patrulhamento",employees:2,efficiency:92,production:80}]}],C=n=>{switch(n.toLowerCase()){case"produção":return S;case"qualidade":return J;case"logística":return $;case"manutenção":return F;case"p&d":return H;case"segurança":return U;default:return D}},we=()=>{console.log("Departamentos component is rendering");const[n,A]=r.useState(""),[p,k]=r.useState("all"),[a,d]=r.useState(null),[M,m]=r.useState(!1),[u,v]=r.useState("create"),[j,g]=r.useState(null),[E,h]=r.useState(!1),I=s=>{console.log("Dados do departamento:",s),u==="create"?console.log("Criando novo departamento"):console.log("Editando departamento:",j?.name),m(!1)},q=s=>{console.log("Dados do setor:",s),console.log("Criando novo setor para o departamento:",a?.name),h(!1)},P=o.filter(s=>{const t=s.name.toLowerCase().includes(n.toLowerCase())||s.description.toLowerCase().includes(n.toLowerCase()),W=p==="all"||s.status===p;return t&&W}),T=o.filter(s=>s.status==="active").length,z=o.filter(s=>s.status==="maintenance").length,L=o.reduce((s,t)=>s+t.employees,0),R=o.reduce((s,t)=>s+t.budget,0),B=()=>{v("create"),g(null),m(!0)},G=s=>{v("edit"),g(s),m(!0)},O=()=>{a&&(console.log("Deletando departamento:",a.name),d(null))};return e.jsxs("div",{className:"w-screen min-h-screen flex flex-col bg-white",children:[e.jsx(ae,{}),e.jsxs("main",{className:"flex-1 w-full px-4 md:px-10 py-8 flex flex-col items-center bg-gradient-to-br from-[var(--bg)] via-[var(--accent)] to-[var(--primary)/10]",children:[e.jsxs("div",{className:"w-full max-w-7xl",children:[e.jsx(te,{title:"Departamentos",subtitle:"Gestão e monitoramento dos departamentos da empresa"}),e.jsx(l,{className:"mb-6 shadow-lg",children:e.jsxs(i,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Q,{className:"text-[var(--primary)] text-lg"}),e.jsx("h2",{className:"text-lg font-semibold text-[var(--primary)]",children:"Filtros e Controles"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(oe,{placeholder:"Buscar departamentos...",value:n,onChange:s=>A(s.target.value),size:"small",fullWidth:!0}),e.jsxs(ne,{size:"small",fullWidth:!0,children:[e.jsx(ce,{children:"Status"}),e.jsxs(de,{value:p,onChange:s=>k(s.target.value),label:"Status",children:[e.jsx(x,{value:"all",children:"Todos"}),e.jsx(x,{value:"active",children:"Ativos"}),e.jsx(x,{value:"inactive",children:"Inativos"}),e.jsx(x,{value:"maintenance",children:"Em Manutenção"})]})]}),e.jsx(c,{variant:"contained",startIcon:e.jsx(f,{}),onClick:B,sx:{backgroundColor:"var(--primary)",color:"white","&:hover":{backgroundColor:"var(--primary-dark)"}},children:"Novo Departamento"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(l,{className:"shadow-lg",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total de Departamentos"}),e.jsx("p",{className:"text-3xl font-bold text-blue-800",children:o.length}),e.jsxs("p",{className:"text-xs text-blue-600",children:[T," ativos"]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(D,{className:"text-blue-600 text-xl"})})]})})}),e.jsx(l,{className:"shadow-lg",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total de Funcionários"}),e.jsx("p",{className:"text-3xl font-bold text-green-800",children:L}),e.jsx("p",{className:"text-xs text-green-600",children:"+12 este mês"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(b,{className:"text-green-600 text-xl"})})]})})}),e.jsx(l,{className:"shadow-lg",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Orçamento Total"}),e.jsxs("p",{className:"text-3xl font-bold text-yellow-800",children:["R$ ",(R/1e3).toFixed(0),"k"]}),e.jsx("p",{className:"text-xs text-yellow-600",children:"+5.2% vs mês anterior"})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx(N,{className:"text-yellow-600 text-xl"})})]})})}),e.jsx(l,{className:"shadow-lg",children:e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600",children:"Em Manutenção"}),e.jsx("p",{className:"text-3xl font-bold text-red-800",children:z}),e.jsx("p",{className:"text-xs text-red-600",children:"1 departamento"})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(F,{className:"text-red-600 text-xl"})})]})})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(s=>e.jsx(l,{className:"shadow-lg border-0 bg-gradient-to-br from-white to-[var(--accent)] hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:e.jsxs(i,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-[var(--primary)] rounded-full flex items-center justify-center",children:e.jsx("div",{className:"text-white text-xl",children:(()=>{const t=C(s.name);return e.jsx(t,{})})()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-[var(--text)]",children:s.name}),e.jsx("p",{className:"text-sm text-[var(--muted)]",children:s.location})]})]}),e.jsx(w,{label:s.status==="active"?"Ativo":s.status==="maintenance"?"Manutenção":"Inativo",color:s.status==="active"?"success":s.status==="maintenance"?"warning":"error",size:"small"})]}),e.jsx("p",{className:"text-sm text-[var(--text)] mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-[var(--primary)]",children:s.employees}),e.jsx("p",{className:"text-xs text-[var(--muted)]",children:"Funcionários"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-2xl font-bold text-[var(--primary)]",children:s.sectors.length}),e.jsx("p",{className:"text-xs text-[var(--muted)]",children:"Setores"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(c,{variant:"outlined",startIcon:e.jsx(K,{}),size:"small",onClick:()=>d(s),sx:{color:"var(--primary)",borderColor:"var(--primary)","&:hover":{backgroundColor:"var(--primary)",color:"white",borderColor:"var(--primary)"}},fullWidth:!0,children:"Ver Detalhes"})})]})},s.id))})]}),e.jsx(re,{open:!!a,onClose:()=>d(null),maxWidth:"md",fullWidth:!0,children:a&&e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"bg-gradient-to-r from-[var(--primary)] to-[var(--primary-dark)] text-white",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"text-white text-lg",children:(()=>{const s=C(a.name);return e.jsx(s,{})})()})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:a.name}),e.jsx("p",{className:"text-sm opacity-90",children:a.location})]})]})}),e.jsx(le,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(V,{className:"text-[var(--primary)]"}),e.jsx("span",{className:"text-sm font-medium text-[var(--text)]",children:"Gerente"})]}),e.jsx("p",{className:"text-sm text-[var(--muted)]",children:"João Silva"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(X,{className:"text-[var(--primary)]"}),e.jsx("span",{className:"text-sm font-medium text-[var(--text)]",children:"Localização"})]}),e.jsx("p",{className:"text-sm text-[var(--muted)]",children:a.location})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{className:"text-[var(--primary)]"}),e.jsx("span",{className:"text-sm font-medium text-[var(--text)]",children:"Funcionários"})]}),e.jsxs("p",{className:"text-sm text-[var(--muted)]",children:[a.employees," colaboradores"]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(N,{className:"text-[var(--primary)]"}),e.jsx("span",{className:"text-sm font-medium text-[var(--text)]",children:"Orçamento"})]}),e.jsxs("p",{className:"text-sm text-[var(--muted)]",children:["R$ ",a.budget.toLocaleString()]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Y,{className:"text-[var(--primary)]"}),e.jsx("span",{className:"text-sm font-medium text-[var(--text)]",children:"Criado em"})]}),e.jsx("p",{className:"text-sm text-[var(--muted)]",children:new Date(a.createdAt).toLocaleDateString("pt-BR")})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"p-4 bg-[var(--accent)] rounded-lg mb-4",children:[e.jsx("h4",{className:"font-semibold text-[var(--text)] mb-2",children:"Descrição"}),e.jsx("p",{className:"text-sm text-[var(--text)]",children:a.description})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-semibold text-[var(--primary)]",children:"Setores"}),e.jsx(c,{variant:"outlined",startIcon:e.jsx(f,{}),size:"small",onClick:()=>h(!0),sx:{color:"var(--primary)",borderColor:"var(--primary)","&:hover":{backgroundColor:"var(--primary)",color:"white",borderColor:"var(--primary)"}},children:"Novo Setor"})]}),e.jsx("div",{className:"space-y-3",children:a.sectors.map(s=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-100 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h5",{className:"font-medium text-[var(--text)]",children:s.name}),e.jsx(w,{label:"Ativo",color:"success",size:"small"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Z,{className:"text-[var(--primary)] text-xs"}),e.jsx("span",{className:"text-xs text-[var(--muted)]",children:"Funcionários"})]}),e.jsx("p",{className:"text-sm font-semibold text-[var(--text)]",children:s.employees})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(_,{className:"text-[var(--primary)] text-xs"}),e.jsx("span",{className:"text-xs text-[var(--muted)]",children:"Eficiência"})]}),e.jsxs("p",{className:"text-sm font-semibold text-[var(--text)]",children:[s.efficiency,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(S,{className:"text-[var(--primary)] text-xs"}),e.jsx("span",{className:"text-xs text-[var(--muted)]",children:"Produção"})]}),e.jsx("p",{className:"text-sm font-semibold text-[var(--text)]",children:s.production})]})]})]},s.id))})]})]})]})}),e.jsx(ie,{className:"p-6",children:e.jsxs("div",{className:"flex gap-2 w-full justify-end",children:[e.jsx(c,{variant:"contained",startIcon:e.jsx(ee,{}),size:"small",onClick:()=>{G(a),d(null)},sx:{backgroundColor:"var(--primary)",color:"white","&:hover":{backgroundColor:"var(--primary-dark)"}},children:"Editar"}),e.jsx(c,{variant:"contained",startIcon:e.jsx(se,{}),size:"small",onClick:O,sx:{backgroundColor:"#dc2626",color:"white","&:hover":{backgroundColor:"#b91c1c"}},children:"Excluir"})]})})]})}),e.jsx(y,{open:M,onClose:()=>m(!1),mode:u,title:u==="create"?"Novo Departamento":"Editar Departamento",fields:xe,initialData:j||{},onSubmit:I,entityType:"department"}),e.jsx(y,{open:E,onClose:()=>h(!1),mode:"create",title:"Novo Setor",fields:pe,initialData:{},onSubmit:q,entityType:"department"})]})]})};export{we as default};
